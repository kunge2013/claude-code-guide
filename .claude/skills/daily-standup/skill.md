# 每日站会报告技能

当用户调用此技能时，自动生成每日站会报告，帮助快速分享工作进展。

## 执行步骤

### 1. 分析最近工作进展
- 运行 `git log --since="1 day ago" --pretty=format:"%h - %s (%an, %ar)"` 查看最近24小时的提交
- 运行 `git diff --stat HEAD~1` 查看最近的代码变更统计
- 分析提交类型：新增功能、bug修复、重构、文档更新等

### 2. 生成站会报告
基于以下模板生成结构化的站会报告：

```markdown
# 每日站会报告

**日期**: {YYYY-MM-DD HH:mm}
**报告人**: {git config user.name}

---

## 📈 昨日完成的工作

### 提交记录
- [{commit hash}] {commit message} ({提交时间})
- [{commit hash}] {commit message} ({提交时间})

### 主要进展
1. **[功能/修复]** - {简洁描述完成的工作}
   - 相关文件: {file1}, {file2}
   - 影响: {对项目的影响}

2. **[文档/测试]** - {其他类型的工作}

### 代码统计
- 新增/修改文件: {数量} 个
- 新增行数: +{lines}
- 删除行数: -{lines}

---

## 🚧 今日计划

基于当前项目状态，建议的今日计划：
1. [ ] {任务1} - {优先级: 高/中/低}
2. [ ] {任务2}
3. [ ] {任务3}

---

## 🚨 遇到的问题/阻塞

- [ ] {问题描述}
  - 影响: {对进度的影响}
  - 需要帮助: {是/否}

如果暂时没有问题，标注：✅ 当前无阻塞问题

---

## 📝 备注

{其他需要分享的信息，如：
- 技术债务提醒
- 代码审查请求
- 知识分享点
- 会议安排等}

---
```

### 3. 智能分析
- **工作模式识别**: 识别当前是新功能开发、bug修复、重构还是其他阶段
- **优先级建议**: 根据项目状态和未完成的issue建议今日优先级
- **风险提示**: 如果提交活动异常频繁或稀少，给出相应提醒

### 4. 保存报告
将生成的站会报告保存到项目根目录的 `daily-standup.md` 文件：
- 如果文件已存在，追加新报告（保留最近7天的历史）
- 如果文件不存在，创建新文件
- 使用清晰的日期分割线区分不同日期的报告

### 5. 输出摘要
在终端输出简洁的摘要格式：
```
📅 每日站会报告 ({日期})
━━━━━━━━━━━━━━━━━━━━━━━━
✅ 完成提交: {数量} 个
📝 修改文件: {数量} 个
⏱️  代码变更: +{add} -{del}

🎯 今日计划:
  1. {任务1}
  2. {任务2}

🚫 阻塞: {有/无}

📄 完整报告已保存到: daily-standup.md
```

## 配置选项

用户可以通过参数自定义报告内容：

### 自定义时间范围
```
使用 daily-standup 技能，时间范围: 最近3天
```

### 指定特定分支
```
使用 daily-standup 技能，分支: develop
```

### 包含未提交的变更
```
使用 daily-standup 技能，包含未提交变更
```
将同时分析当前工作区的未提交变更（git status 和 git diff）

## 使用示例

### 基本使用
```
使用 daily-standup 技能生成今日站会报告
```

### 周报模式
```
使用 daily-standup 技能生成本周工作报告，时间范围: 7天
```

### 团队共享
```
使用 daily-standup 技能，保存到: docs/standups/team.md
```

## 注意事项

- **隐私保护**: 不提交敏感信息（如密码、token等）
- **信息准确性**: 确保git config已正确配置用户信息
- **提交质量**: 建议保持良好的commit message习惯以获得更好的报告
- **报告位置**: 默认保存到项目根目录，可通过参数指定其他位置
- **历史管理**: 自动清理超过7天的旧报告以保持文件大小合理

## 进阶功能

### 关联 Issue/PR
如果项目使用 GitHub/GitLab：
- 从commit message中提取 issue 编号（如 #123）
- 关联相关的 PR 信息
- 生成 issue 完成进度

### 团队协作
- 支持多团队成员报告合并
- 生成团队整体进度概览
- 识别重复工作或协作机会

### 数据可视化
- 代码贡献趋势图
- 工作类型分布饼图
- 活跃时间热力图

## 错误处理

- 如果不是git仓库，提示初始化或切换到正确的目录
- 如果没有最近的提交，建议开始新的任务
- 如果git配置缺失，提示设置用户信息
