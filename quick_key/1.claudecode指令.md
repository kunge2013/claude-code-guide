# Claude Code 基本指令指南

本文档介绍 Claude Code 的核心指令及其使用场景。

## 📋 目录

- [内置指令](#内置指令)
- [代码操作指令](#代码操作指令)
- [文件操作指令](#文件操作指令)
- [高级功能](#高级功能)
- [使用场景](#使用场景)

---

## 🔧 内置指令

### `/help`
**功能**: 显示帮助信息和可用指令列表

**使用场景**:
- 初次使用 Claude Code 时
- 忘记某个指令的用法
- 查看所有可用的功能

**示例**:
```
/help
```

### `/clear`
**功能**: 清除当前对话上下文

**使用场景**:
- 开始新的任务时
- 对话历史过长影响性能
- 需要重置对话状态

**示例**:
```
/clear
```

---

## 💻 代码操作指令

### 代码编辑
直接描述你想要的修改，Claude 会自动识别并执行：

**使用场景**:
- 修复 bug
- 添加新功能
- 重构代码
- 优化性能

**示例**:
```
修复 login 函数中的错误处理逻辑
将这个类转换为 TypeScript
为按钮添加点击动画效果
```

### `/commit`
**功能**: 创建 Git 提交

**使用场景**:
- 完成功能开发后
- 修复 bug 后
- 需要创建有意义的提交信息

**示例**:
```
/commit
```

Claude 会：
1. 查看未暂存的更改
2. 分析代码差异
3. 生成描述性提交信息
4. 执行 git commit

---

## 📁 文件操作指令

### 文件读取
直接提及文件路径即可读取：

**使用场景**:
- 查看代码内容
- 了解文件结构
- 审查代码实现

**示例**:
```
读取 src/utils/helpers.js
查看 package.json 的内容
```

### 文件编辑
描述需要的修改：

**使用场景**:
- 更新配置文件
- 修改代码逻辑
- 添加新的代码段

**示例**:
```
在 config.json 中添加新的环境变量
将所有 console.log 替换为 logger.info
```

### 文件搜索
使用自然语言描述搜索需求：

**使用场景**:
- 查找特定函数定义
- 搜索使用某个 API 的地方
- 定位 bug 来源

**示例**:
```
查找所有使用 fetch API 的地方
搜索包含 'TODO' 的注释
找到定义 User 类的文件
```

---

## 🚀 高级功能

### 任务代理 (Task Tool)
**功能**: 启动专门的代理处理复杂任务

**可用代理类型**:
- `Explore`: 快速探索代码库结构
- `Plan`: 设计实现方案和架构
- `Bash`: 执行命令行操作
- `general-purpose`: 处理多步骤复杂任务

**使用场景**:
- 需要深入理解大型代码库
- 需要制定实现计划
- 执行复杂的多步骤任务

**示例**:
```
探索项目中所有 API 端点的定义
为添加用户认证功能设计实现方案
```

### 代码审查
**功能**: 分析代码质量和安全性

**使用场景**:
- Code Review 前的准备
- 代码质量检查
- 安全漏洞排查

**示例**:
```
审查 src/auth.js 的代码质量
检查是否有安全漏洞
分析这个组件的性能问题
```

### 计划模式
**功能**: 进入计划模式，设计实现方案

**使用场景**:
- 实现复杂新功能
- 需要多文件修改
- 架构决策需要讨论

**示例**:
```
帮我设计一个实时聊天功能
重构状态管理，从 Redux 迁移到 Zustand
```

---

## 🎯 使用场景

### 场景 1: 快速修复 Bug
```bash
# 直接描述问题
修复登录页面在移动端显示不正常的问题

# Claude 会：
# 1. 读取相关文件
# 2. 分析问题原因
# 3. 提出修复方案
# 4. 执行修改
```

### 场景 2: 添加新功能
```bash
# 进入计划模式设计方案
帮我为应用添加深色模式切换功能

# 确认方案后自动实现
```

### 场景 3: 代码重构
```bash
# 描述重构目标
将这个组件拆分为更小的可复用组件
提取重复的逻辑到工具函数
```

### 场景 4: 代码审查
```bash
# 审查特定文件
审查 src/components/Header.tsx

# 全面检查
检查项目中的安全漏洞
```

### 场景 5: Git 操作
```bash
# 创建提交
/commit

# Claude 会自动生成有意义的提交信息
```

### 场景 6: 探索代码库
```bash
# 了解项目结构
这个项目的路由是如何配置的？
所有 API 调用都封装在哪里？
```

### 场景 7: 学习和解释
```bash
# 请求代码解释
解释这段代码的工作原理
这个函数的算法复杂度是多少？
```

---

## 💡 最佳实践

### 1. 明确具体的指令
**❌ 不好的示例**:
```
修复代码
```

**✅ 好的示例**:
```
修复用户注册时密码验证不工作的 bug，具体是密码长度限制没有生效
```

### 2. 提供上下文
**❌ 不好的示例**:
```
优化这个函数
```

**✅ 好的示例**:
```
优化 src/utils/dataProcessor.js 中的 processLargeData 函数，
当前处理 100万条数据需要 5 秒，目标降到 2 秒以内
```

### 3. 分步骤处理复杂任务
对于复杂任务，可以：
- 先让 Claude 制定计划
- 逐步确认每个步骤
- 让 Claude 自动执行

### 4. 利用代码审查功能
在提交代码前，让 Claude 审查可以：
- 发现潜在 bug
- 改善代码结构
- 提升性能

### 5. 善用搜索功能
使用自然语言搜索比手动查找更高效：
```
找到所有处理用户输入的地方
搜索包含敏感信息的代码
```

---

## ⌨️ 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 发送消息 |
| `Shift + Enter` | 换行（不发送） |
| `Ctrl/Cmd + C` | 中断当前操作 |

---

## 🔗 相关资源

- [Claude Code 官方文档](https://github.com/anthropics/claude-code)
- [问题反馈](https://github.com/anthropics/claude-code/issues)

---

*文档版本: 1.0*
*最后更新: 2026-01-15*