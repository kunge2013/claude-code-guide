# 环境变量配置文件示例
# 复制此文件为 .env 并填入您的实际配置

# 智谱 AI API 配置
# 注意：请勿将包含真实 API Key 的 .env 文件提交到版本控制系统
ANTHROPIC_AUTH_TOKEN=your_api_token_here
ANTHROPIC_BASE_URL=https://open.bigmodel.cn/api/anthropic

# API 超时设置（毫秒）
API_TIMEOUT_MS=3000000

# 模型配置
ANTHROPIC_DEFAULT_HAIKU_MODEL=GLM-4.7

# ============================================
# 检索模式配置
# ============================================
# 检索模式: fuzzy | vector | hybrid
# - fuzzy: 模糊字符串匹配（默认，无需额外依赖）
# - vector: 基于向量的语义搜索（需要 Milvus）
# - hybrid: 混合检索（结合模糊匹配和向量搜索）
SEARCH_MODE=fuzzy

# ============================================
# Milvus 向量数据库配置
# ============================================
# Milvus 服务器地址
MILVUS_HOST=localhost
MILVUS_PORT=19530

# 集合名称
MILVUS_COLLECTION_NAME=resume_templates

# 索引配置
MILVUS_INDEX_TYPE=IVF_FLAT
MILVUS_METRIC_TYPE=COSINE

# ============================================
# Embedding 模型配置
# ============================================
# 模型名称 (FlagEmbedding/BGE 系列)
EMBEDDING_MODEL_NAME=BAAI/bge-small-zh-v1.5

# 向量维度 (bge-small-zh-v1.5 为 512)
EMBEDDING_DIMENSION=512

# 运行设备: cpu | cuda
EMBEDDING_DEVICE=cpu

# ============================================
# 向量检索配置
# ============================================
# 返回结果数量
VECTOR_TOP_K=5

# 相似度阈值 (0-1)
VECTOR_THRESHOLD=0.5

# ============================================
# 混合检索权重配置
# ============================================
# 向量检索权重 (0-1)
HYBRID_WEIGHT_VECTOR=0.7

# 模糊匹配权重 (0-1)
HYBRID_WEIGHT_FUZZY=0.3

# ============================================
# Embedding 缓存配置
# ============================================
# 启用缓存 (true | false)
ENABLE_EMBEDDING_CACHE=true
